# General admin settings
stripe_payment.admin_settings:
  path: /admin/config/services/ppss/stripe
  defaults: 
    _form: \Drupal\stripe_payment\Form\StripeFormSettings
    _title: Stripe Settings
  requirements:
    _permission: administer stripe
stripe_payment.payment_success:
  path: /stripe_payment/success_checkout
  defaults:
    _controller: '\Drupal\stripe_payment\Controller\StripeCheckoutController::successCheckout'
    _title: 'Paymet success'
  requirements:
    _access: 'TRUE'
stripe_payment.cancel_subscription:
  path: '/user/{user}/subscription/cancel/{id}'
  defaults:
    _form: '\Drupal\stripe_payment\Form\StripeFormCancelSubscription'
    _title: 'Cancel'
  requirements:
    _user_is_logged_in: 'TRUE'
stripe_payment.manage_subscription:
  path: '/user/{customer}/manage_subscription'
  defaults:
    _controller: '\Drupal\stripe_payment\Controller\StripeCheckoutController::manageSubscription'
    _title: 'Update plan'
  requirements:
    _user_is_logged_in: 'TRUE'
# The route where notification incoming calls are received.
stripe_payment.webhook_listener:
  path: /stripe/webhook/listener
  defaults:
    _controller: \Drupal\stripe_payment\Controller\StripeWebhookController::listener
    _title: Webhook notification listener
  requirements:
    _custom_access: '\Drupal\stripe_payment\Controller\StripeWebhookController::access'
#######
stripe_payment.purchase_stripe:
  path: '/user/{user}/purchases_stripe'
  defaults:
    _controller: '\Drupal\stripe_payment\Controller\StripeCheckoutController::purchaseStripe'
    _title: 'Purchases'
  requirements:
    _user_is_logged_in: 'TRUE'